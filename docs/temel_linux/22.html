<!doctype html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Linux Dersleri</title>
	<link rel="icon" href="../../img/menu/icon.png" type="image/icon type">
	<link rel="stylesheet" href="../../css/bootstrap.min.css">
	<link rel="stylesheet" href="../../css/font-awesome.min.css">
	<link rel="stylesheet" href="../../css/style.css">

</head>

	
<body id="body" style="font-size: 18px;">
<div class="bs-canvas-overlay bs-canvas-anim bg-dark position-fixed w-100 h-100"></div>
	<nav class="navbar y-navbar sticky-top navbar-expand-lg navbar-light bg-light">
  
  <a style="color: black" class="btn"  data-toggle="canvas" data-target="#bs-canvas-left" aria-expanded="false" aria-controls="bs-canvas-left"><i class="fa fa-align-justify fa-lg"></i></a>
  <center>
	<a href="./21.html" style="color: black" class="btn navbar-toggler " > <i class="fa fa-angle-double-left fa-lg"></i></a>
    <a href="../../index.html" style="color: black" class="btn navbar-toggler " ><i class="fa fa-book fa-lg"></i></a>
    <a href="./23.html" style="color: black" class="btn navbar-toggler " ><i class="fa fa-angle-double-right fa-lg"></i> </a>	
  </center>
  <a style="color: black" class="btn navbar-toggler"  onclick="changeColor()" ><i class="fa fa-eye fa-lg"></i></a>  
		
</nav>
<nav class="navbar x-navbar sticky-top navbar-expand-lg navbar-light bg-light border-bottom">
	
	<div class="container ">
            <div align="left"><button class="btn"  data-toggle="canvas" data-target="#bs-canvas-left" aria-expanded="false" aria-controls="bs-canvas-left"><i class="fa fa-align-justify fa-lg"></i></button>
		<a href="../../menu.html" class="btn"  ><i class="fa fa-home fa-lg"></i></a>     </div>
	<center>
		<div id="sizecontroldiv" class="controlstyle">
        <a href="./21.html" class="btn">Önceki <i class="fa fa-angle-double-left fa-lg"></i></a>
        <a href="../../index.html" class="btn" ><i class="fa fa-book fa-lg"></i></a>
        <a href="./23.html" class="btn" ><i class="fa fa-angle-double-right fa-lg"></i> Sonraki</a>
        </div>
    </center>
			<div align="right">
				<a href="../../bildirim.html" class="btn" ><i class="fa fa-paper-plane"></i></a>    
             <button class="btn" onclick="changeColor()" ><i class="fa fa-eye fa-lg"></i></button>  
		</div>              
	</div>
     
</nav>
	
<div id="bs-canvas-left" class="bs-canvas bs-canvas-anim bs-canvas-left position-fixed bg-light h-100" >
	<header class="bs-canvas-header p-3 bg-dark">
		
    	<h4 align="center" class="text-light">İçerik Menüsü<button type="button" class="bs-canvas-close close" aria-label="Close" aria-expanded="true"><span aria-hidden="true" class="text-light">×</span></button></h4>
        
    </header>
    <div class="bs-canvas-content px-3">
    	
    	<div align="center" class="list-group my-2 ">

			<a href="#" class="list-group-item list-group-item-action">Giriş</a>
			<a href="#zaman" class="list-group-item list-group-item-action">Zamanlanmış Görevler</a>
			<a href="#cron" class="list-group-item list-group-item-action">cron</a>
			<a href="#ornek" class="list-group-item list-group-item-action">Örnekler</a>
			<a href="#bildirim" class="list-group-item list-group-item-action active bg-danger">Geri Bildirim</a>
			
          	
        </div>
		
		
    </div>    
</div>
    
  <div class="container">    
        <p></p>
	  <div align="center" class="col">
      <div class="row no-gutters border rounded overflow-hidden flex-md-row mb-4 shadow-sm position-relative">
        <div class="col d-flex flex-column position-static">
          <strong class="d-inline-block text-primary">22.Doküman</strong>
          <h3 class="mb-0">Zamanlanmış Görevler </h3>
          <div class="mb-1 text-muted">Konu Etiketleri</div>
          <p class="card-text mb-auto">zamanlanmış görevler , cron , crontab  </p>
        </div>
        
      </div>
    </div>
 <article id="makale" style="font-size:1em;" class="markdown-body entry-content" itemprop="text">
	
	 
	
	 <h1 id="zaman">Zamanlanmış Görevler</h1>
<p>Sistemde yapılması gereken rutin işlerin zamanı geldiğinde otomatik olarak yapılması işine zamanlanmış görevler deniyor. Bu rutin işlere örnek söylemek gerekirse; benim her pazartesi sistemi yedeklemem gerekiyor diyelim, bunu her pazartesi elle yapmak yerine bu işi zamanlanmış görevlere ekleyerek otomatiğe bağlayabilirim. İşte zamanlanmış görevler bu ve bunun gibi durumlarda sıkça kullanılıyor.</p>
<h2 id="cron">cron</h2>
<p>Rutin tekrarları sağlayan zamanlanmış görevleri yerine getirmemizi sağlayan servisimizin adı <strong><code>cron</code></strong>'dur.</p>
<p>Anlatıma <strong><code>cron</code></strong> servisinin çalışma durumunu kontrol ederek başlayalım. Bunun için konsola <strong><code>service cron status</code></strong> komutunu verelim.</p>
<p><img src="../../img/19-%20Zamanlanm%C4%B1%C5%9F%20G%C3%B6revler/1-min.png" class="responsive"></p>
<p>Cron servisimizin çalıştığını teyit etmiş olduk. Cron servisinin yapılandırma dosyası <strong><mark>/etc/crontab</mark></strong> konumunda yer alıyor göz atmak için konsola <strong><code>cat /etc/crontab</code></strong> komutunu verebiliriz.</p>
<p><img src="../../img/19-%20Zamanlanm%C4%B1%C5%9F%20G%C3%B6revler/2-min.png" class="responsive"></p>
<p>Şimdi de düzenleme yapmak adına konsola <strong><code>crontab -e</code></strong> komutunu verelim. Burada yer alan <strong><code>-e</code></strong> parametresi "<strong>edit</strong>" kelimesini yani "<strong>düzenleme</strong>" ifadesini temsil ediyor.</p>
<p><img src="../../img/19-%20Zamanlanm%C4%B1%C5%9F%20G%C3%B6revler/3-min.png" class="responsive"></p>
<p>Konsol bize düzenleme yaparken hangi aracı kullanmak istediğimizi soruyor. Ben <strong>nano</strong> aracını seçiyorum yani konsola <strong>2</strong> rakamını giriyorum.</p>
<p><img src="../../img/19-%20Zamanlanm%C4%B1%C5%9F%20G%C3%B6revler/4-min.png" class="responsive"></p>
<p>Çıktıda bize bir örnek kullanım gösterilmiş biz bu kullanımı ele alarak servisin kullanım şeklini görelim.</p>
<p><img src="../../img/19-%20Zamanlanm%C4%B1%C5%9F%20G%C3%B6revler/5-min.png" class="responsive"></p>
<p>Yukarıdaki şema yeterince açıklayıcı olmadıysa endişelenmenize gerek yok. Örnekler üzerinden yapacağımız anlatım ile <strong>cron</strong> servisimizin kullanımını rahat şekilde anlamış olacağınıza inanıyorum.</p>
<p>Zamanlanmış görevleri yerine getiren servis <strong>cron</strong> ve bu servisin yerine getirdiği işlere de <strong>cron job</strong> deniliyor. Bu tanımın çok da önemi yok ancak bunu böyle bilseniz daha iyi olur. Bizler de kendi zamanlanmış görevlerimizi (cron jobs) atamak istersek <strong><code>crontab -e</code></strong> komutu ile açtığımız dosyanın son satırına yapmak istediğimiz işi ve tam tarih düzenini girmemiz gerekiyor. Bu görevleri nasıl oluşturacağımızı konunun devamında örnekler üzerinden öğreniyor olacağız.</p>
<h1 id="ornek"><em>Örnekler</em></h1>
<p>Kullanımın anlaşılması amacıyla örnekleri olabildiğince basit tuttum.</p>
<p>Sizlere vereceğim örnekler ne kadar gereksiz gelse de örneği konuyu anlamak adına kullandığımızı unutmayın ve asıl anlatılmak istenen noktaya odaklanın lütfen.</p>
<p>O anın tarihi detaylarını bir dosyaya kaydetmek istiyorum diyelim.
Tarihi detayları <strong><mark>zamanlar.txt</mark></strong> isimli klasöre kaydetmek için
<strong><code>* * * * * echo `date`  ~/Desktop/zamanlar.txt</code></strong> komutunu kullanacağım.</p>
<p>Bütün yıl boyunca her dakikanın çıktılarını kaydetmesini istersem aşağıdaki şekilde bir kullanım işimizi görür.</p>
<p><img src="../../img/19-%20Zamanlanm%C4%B1%C5%9F%20G%C3%B6revler/6-min.png" class="responsive"></p>
<p><img src="../../img/19-%20Zamanlanm%C4%B1%C5%9F%20G%C3%B6revler/7-min.png" class="responsive"></p>
<p>Yıldız işareti (<strong><mark>*</mark></strong>) olan kısımlar hepsini kapsamaktadır yani haftanın bütün günleri, ayın bütün günleri ve saatin bütün dakikaları.. gibi.</p>
<p>Komutun düzenli hali <strong><code>* * * * * echo `date`  ~/Desktop/zamanlar.txt </code></strong> şeklindedir.</p>
<p>Bir süre geçtikten sonra masaüstünde(Desktop dizininde) yer alan <strong><mark>zamanlar.txt</mark></strong> dosyasını <strong><code>cat zamanlar.txt</code></strong> komutu ile kontrol ediyorum.</p>
<p><img src="../../img/19-%20Zamanlanm%C4%B1%C5%9F%20G%C3%B6revler/8-min.png" class="responsive"></p>
<p>Görev istediğimiz şekilde yani her dakikada yazılacak şekilde otomatik olarak gerçekleşmiş oldu.</p>
<p>Şimdi spesifik bir zaman belirleyerek görevin yerine getirilme durumunu ele alalım.</p>
<p>Her gün 10:25 da otomatik olarak <strong><mark>test.txt</mark></strong> isimli belgeye "test yazısı" yazdırmak için kalıbı <strong>crontab</strong> dosyasına aşağıdaki şekilde yazmalıyız.(Ayrıca başta hangi ifadenin neyin karşılığı olduğunu belirttiğim için tekrar tekrar üzerlerine yazmıyorum. Eğer şaşırırsanız yukarıdaki kısımları tekrar gözden geçirebilirsiniz.)</p>
<code>25 10 * * * echo "test yazısı"  ~/Desktop/test.txt </code>
<p><img src="../../img/19-%20Zamanlanm%C4%B1%C5%9F%20G%C3%B6revler/9-min.png" class="responsive"></p>
<p><strong><code>ls -l</code></strong> komutu ile de dosyamızın üretildiği tarihi sorguladık ve çıktıdan da anladığımız üzere verdiğimiz görev zamanında yerine getirilmiş.</p>
<p><img src="../../img/19-%20Zamanlanm%C4%B1%C5%9F%20G%C3%B6revler/10-min.png" class="responsive"></p>
<h3>Eğer belirli bir saat-tarih arasında belirli kere tekrar eden görev atamak istersek kullanım şekilleri aşağıdaki örneklerdeki gibi olacaktır.</h3>
<p>Belirli aralıklar ile olacaksa aralıkları <strong>-</strong>(<strong>kısa çizgi</strong>) işareti ile ayırarak belirtmemiz gerekiyor. Yani örneğin;</p>
<p>Her saatin ilk 5 ile 20 dakikası arasında komutum çalışsın istersem:</p>
<code>5-20 * * * * komut</code>
<p>Her gün saat 3 ile 5 arasında her dakika komutum çalışsın istersem:</p>
<code>* 3-5 * * * komut</code>
<p>Her ayın 5 ile 15. günleri arasında saat 16 ile 22 arasındaki her saatin ilk 20 dakikası komutum çalışsın istersem.</p>
<code>0-20 16-22 5-15 * * komut</code>
<p>Haziran ayında ilk 20 gününün her cuma günü saat 12 ile 15 arasındaki 35 ile 55 dakikaları arasında komutum çalışsın istersem:</p>
<code>35-55 12-15 1-20 6 5 komut </code>
<hr>
<p>Belirli gün ve tarihlerde olacaksa o tarihleri <strong>,</strong>(<strong>virgül</strong>) işareti ile ayırarak tek tek belirtmemiz gerekiyor. Yani örneğin;</p>
<p>Her saatin 5 10 15 ve 20. dakikalarında komutum çalışsın istersem:</p>
<code>5,10,15,20 * * * * komut</code>
<p>Her gün saat 3 5 ve 7 de komutum çalışsın istesem:</p>
<code>0 3,5,7 * * * komut</code>
<p>Her ayın 20 22 24 ve 26. günleri 2 4 6 ve 8 saatlerinin 5. ve 10. dakikalarında komutum çalışsın istersem:</p>
<code>5,10 2,4,6,8 20,22,24,26 * * komut</code>
<hr>
<p>Belirli süre içinde belirli kez çalışmasını istersek <strong>/</strong>(<strong>taksim</strong>) işareti ile kaç kez olacağını belirtebiliyoruz. Yani örneğin;</p>
<p>5 dakikada bir çalışmasını istersem:</p>
<code>*/5 * * * * komut</code>
<p>10 saatte bir komutumun çalışmasını istersem:</p>
<code>* */10 * * * komut</code>
<p>Elbette örnekleri çoğaltmak mümkün ancak daha fazlası gereksiz olacaktır. Ayrıca atadığınız zamanlanmış görevlerin doğruluğunu kontrol etmek isterseniz <a target="_blank" href="https://crontab.guru" rel="nofollow">bu adresten</a> verdiğiniz zaman aralığının karşılığını görebilir ve hata yapmaktan kaçınabilirsiniz.</p>
<p>Yani bu konu sizlerin de biraz kurcaladıktan sonra anlayacağı kolay bir konudur.</p>
<p>Eğer belirlenen zamanlanmış görevleri listelemek istersek <strong><code>crontab -l</code></strong> komutunu kullanabiliriz. Buradaki <strong><code>-l</code></strong> parametresi "<strong>list</strong>" kelimesini yani "<strong>listeleme</strong>" işlevini temsil ediyor.</p>
<p><img src="../../img/19-%20Zamanlanm%C4%B1%C5%9F%20G%C3%B6revler/11-min.png" class="responsive"></p>
<p>Şayet oluşturduğumuz tüm zamanlanmış görevleri silmek istersek <strong><code>crontab -r</code></strong> komutunu kullanmalıyız. Buradaki <strong><code>-r</code></strong> parametresi "<strong>remove</strong>" kelimesini yani "<strong>silme</strong>" işlevini temsil ediyor.</p>
<p><img src="../../img/19-%20Zamanlanm%C4%B1%C5%9F%20G%C3%B6revler/12-min.png" class="responsive"></p>
	<h1></h1>
<center>
	<h1 id="bildirim">Geri Bildirimde Bulunun</h1>
<p>Sizlere daha verimli bir kaynak sunabilmemiz için, uygulamada veya dokümantasyonlarda yer alan tüm hata ve eksiklerimizi bize bildirebilirsiniz.	</p>
	<div class="checkbox mb-3">
                          
			<a href="../../bildirim.html" class="btn btn-danger">Geri Bildirimde Bulunun</a>

      </div></center>
	
</article>
    </div>

    
<script src="../../js/jquery-3.3.1.slim.min.js"></script>
<script src="../../js/main.js"></script>
<script src="../../js/bootstrap.min.js"></script>
<script src="../../js/script.js"></script>		




</body>
</html>
